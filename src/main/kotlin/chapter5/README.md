launch, async 가 분리되어 있는 이유가 뭘까? (주저리 뇌피셜 잔뜩 포함)

값 반환??

이건 이미 책에서 다 봤지


성능??

launch의 Job 객체는 async의 Deferred 보다 단순하고 코루틴의 생명주기를 관리하는데 집중되어 최소한의 상태 정보만 가지고 있다.

async의 Deferred 객체는 위 내용 뿐만 아니라 결과를 저장하기 위해 필요한 공간과 그 결과의 상태 정보도 가지고 있다.

그래서 async는 launch 처럼 작업의 완료(complete)를 기다려야할 뿐만 아니라 작업의 결과 상태를 관리하면서 반환까지 해야하기 때문에 비용이 훨씬 많이 들 것으로 추정된다.


인문학적 접근??

작성한 코드의 정확한 의미 부여와 의도를 다른 개발자에게 보여줄 수 있고 설계에 대한 일관성을 지킬 수도 있을 것으로 보인다.

e.g.

db 작업의 경우 리턴 값을 받아서 처리해야하므로 async가 적절함.
디시 생성 후 캐시 삭제 같은 응답을 기다리지 않아도 된다면 launch 사용이 적절할 수 있음.


withContext로 async-await를 대체하기

withContext는 코루틴을 다른 컨텍스트나 디스패쳐로 옮겨서 실행하는 것이다.

async-await는 데이터를 비동기로 가져오거나 여러 데이터를 병렬로 가져와서 조합하는데 더 큰 목적이 있다.
